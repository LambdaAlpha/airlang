# 原子字面量语法

## 单元

`.`

## 比特

`true` 表示真

`false` 表示假

## 整数

`integer(a)` 或 `0a`

整数 `a` 由正负号（`+-`），进制（`BDX`），和数字序列（`0-9a-f`）组成。

`+` 可以省略，进制 `D` 可以省略。

`B` 为二进制，`D` 为十进制，`X` 为十六进制。

数字序列不可为空，数字间可以由下划线（`_`）连接。

十进制正整数 `integer(+Da)`，或 `0+Da` 可以简写为 `a`。

示例：

```air
123
0-123
0+123
1_000_000
0B1
0-B1
0B10
0B1100_0011
0Xa
0-Xa
0Xab_c
integer(123)
integer(-123)
integer(+123)
integer(D123)
integer(B0011)
integer(-Xff)
```

## 数

`number(a)` 或 `0a`

数 `a` 由正负号（`+-`），进制（`BDX`），有效数字（数字序列 `.` 数字序列）和指数（`E` 正负号 数字序列）组成。

`+` 可以省略，进制 `D` 可以省略。

`B` 为二进制，`D` 为十进制，`X` 为十六进制。

数字间可以由下划线（`_`）连接。

在 `0a` 形式中，数以小数点（`.`）和指数前缀（`E`）为标志，数字中若没有小数点，也没有指数前缀，则是整数，否则是数。

十进制正有理数 `number(+Da)`，或 `0+Da` 可以简写为 `a`。

示例：

```air
1.0
1.
1.E2
1E8
0-1.23E-12
0-1_2.3_4E2_3
number(1)
number(-1.0)
number(+1E-3)
number(-Xff.aaE-3)
```

## 字节

`byte(a)`

字节 `a` 由进制（`BX`）和数字序列组成。

`B` 为二进制，后接二进制数字（`01`）序列，每八个为一个单位，单位间可以由下划线（`_`）连接。序列可以为空。

`X` 为十六进制，可省略，后接十六进制数字（`0-9a-f`）序列，每两个为一个单位，单位间可以由下划线（`_`）连接。序列可以为空。

示例：

```air
byte()
byte(B)
byte(B00001111)
byte(B00001111_11110000)
byte(X)
byte(X00_ffff_00)
byte(00_ff)
```

## 符号

### 字面形式

`xxx`

不包含定界符且不与其他语法冲突的符号，可以写成字面形式。例如：

- `a` 表示 `a`
- `~` 表示 `~`
- `!!` 表示 `!!`

```air
a
a_string
str2
%
+
+=
+u
->
;a
a;
:a
a:
?a
a?
;
:
!
?
```

### 规范形式

`'xxx'`

前后以单引号 `'` 定界。

有转义模式和原始模式两种模式，默认是转义模式。

#### 转义

用 `\` 表示转义

- `\\` 表示 `\`
- ``\` `` 表示 `'`
- `\_` 表示空格（` `）
- `\` 后面的连续空格或制表符会被移除

转义模式下 `'` 结束符号。

#### 原始

原始模式下所有字符都不转义。

#### 分行

处理长符号或者复杂符号时，可以使用分行形式。

换行后的缩进将被忽略。然后是 `|`，然后是

- `(`：进入原始模式
- `)`：退出原始模式，返回转义模式
- 空格：保持模式不变

示例：

```air
'+\''
''
'\`'
'true'
'\`@'
'\`123'
'"'
'"a'
'1'
'1a'
'+1.0'
'abc\_def'

'abc
| \_def'

'
|(`~!@#$%^&*()-_=+[{]}\|;:'",<.>/?
|)'

  '
  |(\\\\'
  | ''''
  |  \
  | \'
  |)'

'a
| b
|(c
| d
|)e
| f
| "
```

## 文本

`"xxx"`

前后以双引号 `"` 定界。

支持 unicode 字符集。

有转义模式和原始模式两种模式，默认是转义模式。

### 转义

用 `\` 表示转义

- `\_` 表示空格（` `）
- `\t` 表示制表符
- `\n` 表示换行符
- `\r` 表示回车符
- `\\` 表示 `\`
- ``\` `` 表示 `"`
- `\u(xxx)` 表示 unicode。`xxx` 为 unicode 的编码的十六进制表示。
- `\` 后面的连续空格或制表符会被移除

转义模式下 `'` 结束文本。

### 原始

原始模式下所有字符都不转义。

#### 分行

处理长符号或者复杂文本时，可以使用分行形式。

换行后的缩进将被忽略。然后是

- `|`：不换行
- `+`：换行

然后是

- `(`：进入原始模式
- `)`：退出原始模式，返回转义模式
- 空格：保持模式不变

示例：

```air
"hello world"
"hello\n\tworld"
"\`hello\`"
"🜁🜂🜃🜄"
"\u(1F701)"

  "- a
 |   - b
 |   - c"

"a
| b
+ c
| "

"
|(`~!@#$%^&*()-_=+[{]}\|;:'",<.>/?
|)"

"
|(\\\\"
| """"
+  \
| \"
+)"

"a
|(b
| c
|)d
| e"
```
